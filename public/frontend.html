<!DOCTYPE html>
<html>
	<head>
		<script src='https://cdn.firebase.com/v0/firebase.js'></script>
		<script src='https://ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js'></script>
		
	</head>
	<body>
		
		<div>
			<div style = "float:left;">
				<script type="text/javascript"> 
					var image = new Image();
					image.src = "C:/Users/Nolan/Desktop/k6v7706.png";
					document.body.appendChild(image);
					//<img src="C:/Users/Nolan/Desktop/k6v7706.png" height="640px" width="360px" align = "left" border = "0"/>
				</script>
			</div>
			<div id='messagesDiv' style="margin-left:50%; float:right;">
				<input type='text' id='nameInput' placeholder='Name'>
				<input type='text' id='messageInput' placeholder='Message'>
				<script>
				  var myDataRef = new Firebase('https://fm65i1731k9.firebaseio-demo.com/');
				  $('#messageInput').keypress(function (e) {
					if (e.keyCode == 13) {
					  var name = $('#nameInput').val();
					  var text = $('#messageInput').val();
					  var timestamp = Firebase.ServerValue.TIMESTAMP
					  myDataRef.push({name: name, text: text, timestamp: timestamp});
					  $('#messageInput').val('');
					}
				  });
				  myDataRef.on('child_added', function(snapshot) {
					var message = snapshot.val();
					displayChatMessage(message.name, message.text);
				  });
				  function displayChatMessage(name, text, timestamp) {
					$('<div/>').text(text).prepend($('<em/>').text(name+': ')).appendTo($('#messagesDiv'));
					$('#messagesDiv')[0].scrollTop = $('#messagesDiv')[0].scrollHeight;
				  };
				</script>
			</div>
		</div>
	</body>
 </html>
